function cov_nq87ews4n(){var path="/govuk/finder-frontend/app/assets/javascripts.bak/components/option-select.js";var hash="d7377b19723b02e94622ffef12c945f39f5f791c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/govuk/finder-frontend/app/assets/javascripts.bak/components/option-select.js",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:33}},"1":{start:{line:3,column:0},end:{line:3,column:50}},"2":{start:{line:5,column:0},end:{line:248,column:24}},"3":{start:{line:12,column:2},end:{line:81,column:3}},"4":{start:{line:13,column:4},end:{line:13,column:32}},"5":{start:{line:14,column:4},end:{line:14,column:69}},"6":{start:{line:15,column:4},end:{line:15,column:77}},"7":{start:{line:16,column:4},end:{line:16,column:79}},"8":{start:{line:17,column:4},end:{line:17,column:80}},"9":{start:{line:18,column:4},end:{line:18,column:68}},"10":{start:{line:19,column:4},end:{line:19,column:31}},"11":{start:{line:21,column:4},end:{line:57,column:5}},"12":{start:{line:22,column:21},end:{line:22,column:50}},"13":{start:{line:23,column:6},end:{line:23,column:41}},"14":{start:{line:25,column:6},end:{line:27,column:45}},"15":{start:{line:29,column:6},end:{line:29,column:82}},"16":{start:{line:30,column:6},end:{line:30,column:72}},"17":{start:{line:31,column:6},end:{line:31,column:68}},"18":{start:{line:32,column:6},end:{line:32,column:72}},"19":{start:{line:33,column:6},end:{line:33,column:72}},"20":{start:{line:34,column:6},end:{line:34,column:30}},"21":{start:{line:35,column:6},end:{line:35,column:28}},"22":{start:{line:36,column:17},end:{line:36,column:21}},"23":{start:{line:38,column:6},end:{line:38,column:36}},"24":{start:{line:39,column:6},end:{line:41,column:8}},"25":{start:{line:40,column:8},end:{line:40,column:66}},"26":{start:{line:43,column:6},end:{line:56,column:8}},"27":{start:{line:44,column:8},end:{line:44,column:27}},"28":{start:{line:45,column:24},end:{line:45,column:26}},"29":{start:{line:47,column:8},end:{line:55,column:9}},"30":{start:{line:48,column:10},end:{line:48,column:42}},"31":{start:{line:49,column:10},end:{line:52,column:11}},"32":{start:{line:50,column:26},end:{line:50,column:45}},"33":{start:{line:54,column:10},end:{line:54,column:28}},"34":{start:{line:60,column:4},end:{line:60,column:97}},"35":{start:{line:63,column:4},end:{line:63,column:39}},"36":{start:{line:66,column:4},end:{line:66,column:49}},"37":{start:{line:69,column:4},end:{line:69,column:99}},"38":{start:{line:71,column:4},end:{line:75,column:5}},"39":{start:{line:72,column:6},end:{line:72,column:18}},"40":{start:{line:74,column:6},end:{line:74,column:24}},"41":{start:{line:77,column:24},end:{line:77,column:44}},"42":{start:{line:78,column:4},end:{line:80,column:5}},"43":{start:{line:79,column:6},end:{line:79,column:46}},"44":{start:{line:83,column:2},end:{line:88,column:3}},"45":{start:{line:84,column:4},end:{line:84,column:36}},"46":{start:{line:85,column:4},end:{line:85,column:40}},"47":{start:{line:86,column:4},end:{line:86,column:54}},"48":{start:{line:87,column:4},end:{line:87,column:59}},"49":{start:{line:90,column:2},end:{line:99,column:3}},"50":{start:{line:91,column:4},end:{line:91,column:31}},"51":{start:{line:92,column:15},end:{line:92,column:19}},"52":{start:{line:94,column:4},end:{line:98,column:6}},"53":{start:{line:95,column:6},end:{line:97,column:7}},"54":{start:{line:96,column:8},end:{line:96,column:38}},"55":{start:{line:101,column:2},end:{line:119,column:3}},"56":{start:{line:102,column:19},end:{line:102,column:53}},"57":{start:{line:103,column:25},end:{line:103,column:54}},"58":{start:{line:105,column:4},end:{line:109,column:5}},"59":{start:{line:105,column:17},end:{line:105,column:18}},"60":{start:{line:106,column:6},end:{line:108,column:7}},"61":{start:{line:107,column:8},end:{line:107,column:30}},"62":{start:{line:111,column:4},end:{line:111,column:29}},"63":{start:{line:112,column:4},end:{line:114,column:5}},"64":{start:{line:112,column:17},end:{line:112,column:18}},"65":{start:{line:113,column:6},end:{line:113,column:53}},"66":{start:{line:116,column:14},end:{line:116,column:40}},"67":{start:{line:117,column:21},end:{line:117,column:90}},"68":{start:{line:118,column:4},end:{line:118,column:137}},"69":{start:{line:121,column:2},end:{line:140,column:3}},"70":{start:{line:127,column:25},end:{line:127,column:72}},"71":{start:{line:128,column:30},end:{line:128,column:51}},"72":{start:{line:131,column:18},end:{line:131,column:31}},"73":{start:{line:132,column:4},end:{line:132,column:98}},"74":{start:{line:134,column:4},end:{line:134,column:34}},"75":{start:{line:135,column:4},end:{line:135,column:39}},"76":{start:{line:136,column:4},end:{line:136,column:49}},"77":{start:{line:137,column:4},end:{line:137,column:68}},"78":{start:{line:138,column:4},end:{line:138,column:37}},"79":{start:{line:139,column:4},end:{line:139,column:39}},"80":{start:{line:142,column:2},end:{line:145,column:3}},"81":{start:{line:143,column:4},end:{line:144,column:114}},"82":{start:{line:147,column:2},end:{line:160,column:3}},"83":{start:{line:148,column:24},end:{line:148,column:44}},"84":{start:{line:149,column:31},end:{line:149,column:78}},"85":{start:{line:151,column:4},end:{line:159,column:5}},"86":{start:{line:152,column:6},end:{line:156,column:7}},"87":{start:{line:153,column:8},end:{line:153,column:48}},"88":{start:{line:155,column:8},end:{line:155,column:48}},"89":{start:{line:158,column:6},end:{line:158,column:35}},"90":{start:{line:162,column:2},end:{line:171,column:3}},"91":{start:{line:163,column:4},end:{line:163,column:34}},"92":{start:{line:164,column:16},end:{line:164,column:45}},"93":{start:{line:165,column:24},end:{line:165,column:29}},"94":{start:{line:166,column:4},end:{line:168,column:5}},"95":{start:{line:167,column:6},end:{line:167,column:41}},"96":{start:{line:170,column:4},end:{line:170,column:24}},"97":{start:{line:173,column:2},end:{line:180,column:3}},"98":{start:{line:174,column:4},end:{line:178,column:5}},"99":{start:{line:175,column:6},end:{line:175,column:17}},"100":{start:{line:177,column:6},end:{line:177,column:18}},"101":{start:{line:179,column:4},end:{line:179,column:22}},"102":{start:{line:182,column:2},end:{line:191,column:3}},"103":{start:{line:183,column:4},end:{line:190,column:5}},"104":{start:{line:184,column:6},end:{line:184,column:81}},"105":{start:{line:185,column:6},end:{line:185,column:49}},"106":{start:{line:186,column:6},end:{line:186,column:46}},"107":{start:{line:187,column:6},end:{line:189,column:7}},"108":{start:{line:188,column:8},end:{line:188,column:26}},"109":{start:{line:193,column:2},end:{line:197,column:3}},"110":{start:{line:194,column:4},end:{line:194,column:47}},"111":{start:{line:195,column:4},end:{line:195,column:44}},"112":{start:{line:196,column:4},end:{line:196,column:80}},"113":{start:{line:199,column:2},end:{line:201,column:3}},"114":{start:{line:200,column:4},end:{line:200,column:51}},"115":{start:{line:203,column:2},end:{line:207,column:3}},"116":{start:{line:204,column:4},end:{line:206,column:6}},"117":{start:{line:209,column:2},end:{line:215,column:3}},"118":{start:{line:210,column:20},end:{line:210,column:29}},"119":{start:{line:211,column:39},end:{line:211,column:70}},"120":{start:{line:212,column:30},end:{line:212,column:59}},"121":{start:{line:213,column:37},end:{line:213,column:81}},"122":{start:{line:214,column:4},end:{line:214,column:68}},"123":{start:{line:217,column:2},end:{line:222,column:3}},"124":{start:{line:218,column:28},end:{line:218,column:83}},"125":{start:{line:220,column:4},end:{line:220,column:86}},"126":{start:{line:221,column:4},end:{line:221,column:28}},"127":{start:{line:224,column:2},end:{line:245,column:3}},"128":{start:{line:225,column:39},end:{line:225,column:70}},"129":{start:{line:226,column:17},end:{line:226,column:51}},"130":{start:{line:230,column:4},end:{line:233,column:5}},"131":{start:{line:231,column:6},end:{line:231,column:40}},"132":{start:{line:232,column:6},end:{line:232,column:18}},"133":{start:{line:236,column:4},end:{line:239,column:5}},"134":{start:{line:237,column:6},end:{line:237,column:41}},"135":{start:{line:238,column:6},end:{line:238,column:12}},"136":{start:{line:242,column:30},end:{line:242,column:64}},"137":{start:{line:243,column:19},end:{line:243,column:60}},"138":{start:{line:244,column:4},end:{line:244,column:76}},"139":{start:{line:247,column:2},end:{line:247,column:37}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:1},end:{line:5,column:2}},loc:{start:{line:5,column:20},end:{line:248,column:1}},line:5},"1":{name:"OptionSelect",decl:{start:{line:6,column:11},end:{line:6,column:23}},loc:{start:{line:6,column:27},end:{line:6,column:29}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:33},end:{line:12,column:34}},loc:{start:{line:12,column:52},end:{line:81,column:3}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:39,column:31},end:{line:39,column:32}},loc:{start:{line:39,column:43},end:{line:41,column:7}},line:39},"4":{name:"(anonymous_4)",decl:{start:{line:43,column:31},end:{line:43,column:32}},loc:{start:{line:43,column:44},end:{line:56,column:7}},line:43},"5":{name:"(anonymous_5)",decl:{start:{line:50,column:12},end:{line:50,column:13}},loc:{start:{line:50,column:24},end:{line:50,column:47}},line:50},"6":{name:"cleanString",decl:{start:{line:83,column:48},end:{line:83,column:59}},loc:{start:{line:83,column:67},end:{line:88,column:3}},line:83},"7":{name:"getAllCheckedCheckboxes",decl:{start:{line:90,column:60},end:{line:90,column:83}},loc:{start:{line:90,column:87},end:{line:99,column:3}},line:90},"8":{name:"(anonymous_8)",decl:{start:{line:94,column:29},end:{line:94,column:30}},loc:{start:{line:94,column:42},end:{line:98,column:5}},line:94},"9":{name:"doFilter",decl:{start:{line:101,column:45},end:{line:101,column:53}},loc:{start:{line:101,column:60},end:{line:119,column:3}},line:101},"10":{name:"replaceHeadingSpanWithButton",decl:{start:{line:121,column:65},end:{line:121,column:93}},loc:{start:{line:121,column:97},end:{line:140,column:3}},line:121},"11":{name:"attachCheckedCounter",decl:{start:{line:142,column:57},end:{line:142,column:77}},loc:{start:{line:142,column:94},end:{line:145,column:3}},line:142},"12":{name:"updateCheckedCount",decl:{start:{line:147,column:55},end:{line:147,column:73}},loc:{start:{line:147,column:77},end:{line:160,column:3}},line:147},"13":{name:"checkedString",decl:{start:{line:162,column:50},end:{line:162,column:63}},loc:{start:{line:162,column:67},end:{line:171,column:3}},line:162},"14":{name:"toggleOptionSelect",decl:{start:{line:173,column:55},end:{line:173,column:73}},loc:{start:{line:173,column:78},end:{line:180,column:3}},line:173},"15":{name:"open",decl:{start:{line:182,column:41},end:{line:182,column:45}},loc:{start:{line:182,column:49},end:{line:191,column:3}},line:182},"16":{name:"close",decl:{start:{line:193,column:42},end:{line:193,column:47}},loc:{start:{line:193,column:51},end:{line:197,column:3}},line:193},"17":{name:"isClosed",decl:{start:{line:199,column:45},end:{line:199,column:53}},loc:{start:{line:199,column:57},end:{line:201,column:3}},line:199},"18":{name:"setContainerHeight",decl:{start:{line:203,column:55},end:{line:203,column:73}},loc:{start:{line:203,column:83},end:{line:207,column:3}},line:203},"19":{name:"isCheckboxVisible",decl:{start:{line:209,column:54},end:{line:209,column:71}},loc:{start:{line:209,column:88},end:{line:215,column:3}},line:209},"20":{name:"getVisibleCheckboxes",decl:{start:{line:217,column:57},end:{line:217,column:77}},loc:{start:{line:217,column:81},end:{line:222,column:3}},line:217},"21":{name:"setupHeight",decl:{start:{line:224,column:48},end:{line:224,column:59}},loc:{start:{line:224,column:63},end:{line:245,column:3}},line:224}},branchMap:{"0":{loc:{start:{line:2,column:15},end:{line:2,column:33}},type:"binary-expr",locations:[{start:{line:2,column:15},end:{line:2,column:27}},{start:{line:2,column:31},end:{line:2,column:33}}],line:2},"1":{loc:{start:{line:3,column:23},end:{line:3,column:49}},type:"binary-expr",locations:[{start:{line:3,column:23},end:{line:3,column:43}},{start:{line:3,column:47},end:{line:3,column:49}}],line:3},"2":{loc:{start:{line:18,column:21},end:{line:18,column:68}},type:"binary-expr",locations:[{start:{line:18,column:21},end:{line:18,column:62}},{start:{line:18,column:66},end:{line:18,column:68}}],line:18},"3":{loc:{start:{line:21,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:57,column:5}},{start:{line:21,column:4},end:{line:57,column:5}}],line:21},"4":{loc:{start:{line:47,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:55,column:9}},{start:{line:47,column:8},end:{line:55,column:9}}],line:47},"5":{loc:{start:{line:71,column:4},end:{line:75,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:75,column:5}},{start:{line:71,column:4},end:{line:75,column:5}}],line:71},"6":{loc:{start:{line:78,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:78,column:4},end:{line:80,column:5}},{start:{line:78,column:4},end:{line:80,column:5}}],line:78},"7":{loc:{start:{line:95,column:6},end:{line:97,column:7}},type:"if",locations:[{start:{line:95,column:6},end:{line:97,column:7}},{start:{line:95,column:6},end:{line:97,column:7}}],line:95},"8":{loc:{start:{line:106,column:6},end:{line:108,column:7}},type:"if",locations:[{start:{line:106,column:6},end:{line:108,column:7}},{start:{line:106,column:6},end:{line:108,column:7}}],line:106},"9":{loc:{start:{line:106,column:10},end:{line:106,column:91}},type:"binary-expr",locations:[{start:{line:106,column:10},end:{line:106,column:42}},{start:{line:106,column:46},end:{line:106,column:91}}],line:106},"10":{loc:{start:{line:116,column:14},end:{line:116,column:40}},type:"binary-expr",locations:[{start:{line:116,column:14},end:{line:116,column:35}},{start:{line:116,column:39},end:{line:116,column:40}}],line:116},"11":{loc:{start:{line:118,column:33},end:{line:118,column:90}},type:"cond-expr",locations:[{start:{line:118,column:45},end:{line:118,column:65}},{start:{line:118,column:68},end:{line:118,column:90}}],line:118},"12":{loc:{start:{line:151,column:4},end:{line:159,column:5}},type:"if",locations:[{start:{line:151,column:4},end:{line:159,column:5}},{start:{line:151,column:4},end:{line:159,column:5}}],line:151},"13":{loc:{start:{line:152,column:6},end:{line:156,column:7}},type:"if",locations:[{start:{line:152,column:6},end:{line:156,column:7}},{start:{line:152,column:6},end:{line:156,column:7}}],line:152},"14":{loc:{start:{line:166,column:4},end:{line:168,column:5}},type:"if",locations:[{start:{line:166,column:4},end:{line:168,column:5}},{start:{line:166,column:4},end:{line:168,column:5}}],line:166},"15":{loc:{start:{line:174,column:4},end:{line:178,column:5}},type:"if",locations:[{start:{line:174,column:4},end:{line:178,column:5}},{start:{line:174,column:4},end:{line:178,column:5}}],line:174},"16":{loc:{start:{line:183,column:4},end:{line:190,column:5}},type:"if",locations:[{start:{line:183,column:4},end:{line:190,column:5}},{start:{line:183,column:4},end:{line:190,column:5}}],line:183},"17":{loc:{start:{line:187,column:6},end:{line:189,column:7}},type:"if",locations:[{start:{line:187,column:6},end:{line:189,column:7}},{start:{line:187,column:6},end:{line:189,column:7}}],line:187},"18":{loc:{start:{line:230,column:4},end:{line:233,column:5}},type:"if",locations:[{start:{line:230,column:4},end:{line:233,column:5}},{start:{line:230,column:4},end:{line:233,column:5}}],line:230},"19":{loc:{start:{line:236,column:4},end:{line:239,column:5}},type:"if",locations:[{start:{line:236,column:4},end:{line:239,column:5}},{start:{line:236,column:4},end:{line:239,column:5}}],line:236}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d7377b19723b02e94622ffef12c945f39f5f791c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_nq87ews4n=function(){return actualCoverage;};}return actualCoverage;}cov_nq87ews4n();cov_nq87ews4n().s[0]++;/* eslint-env jquery */window.GOVUK=(cov_nq87ews4n().b[0][0]++,window.GOVUK)||(cov_nq87ews4n().b[0][1]++,{});cov_nq87ews4n().s[1]++;window.GOVUK.Modules=(cov_nq87ews4n().b[1][0]++,window.GOVUK.Modules)||(cov_nq87ews4n().b[1][1]++,{});cov_nq87ews4n().s[2]++;(function(Modules){cov_nq87ews4n().f[0]++;function OptionSelect(){cov_nq87ews4n().f[1]++;}/* This JavaScript provides two functional enhancements to option-select components:
    1) A count that shows how many results have been checked in the option-container
    2) Open/closing of the list of checkboxes
  */cov_nq87ews4n().s[3]++;OptionSelect.prototype.start=function($module){cov_nq87ews4n().f[2]++;cov_nq87ews4n().s[4]++;this.$optionSelect=$module;cov_nq87ews4n().s[5]++;this.$options=this.$optionSelect.find("input[type='checkbox']");cov_nq87ews4n().s[6]++;this.$optionsContainer=this.$optionSelect.find('.js-options-container');cov_nq87ews4n().s[7]++;this.$optionList=this.$optionsContainer.children('.js-auto-height-inner');cov_nq87ews4n().s[8]++;this.$allCheckboxes=this.$optionsContainer.find('.govuk-checkboxes__item');cov_nq87ews4n().s[9]++;this.hasFilter=(cov_nq87ews4n().b[2][0]++,this.$optionSelect.data('filter-element'))||(cov_nq87ews4n().b[2][1]++,'');cov_nq87ews4n().s[10]++;this.checkedCheckboxes=[];cov_nq87ews4n().s[11]++;if(this.hasFilter.length){cov_nq87ews4n().b[3][0]++;var filterEl=(cov_nq87ews4n().s[12]++,document.createElement('div'));cov_nq87ews4n().s[13]++;filterEl.innerHTML=this.hasFilter;cov_nq87ews4n().s[14]++;$('<div class="app-c-option-select__filter"/>').html(filterEl.childNodes[0].nodeValue).insertBefore(this.$optionsContainer);cov_nq87ews4n().s[15]++;this.$filter=this.$optionSelect.find('input[name="option-select-filter"]');cov_nq87ews4n().s[16]++;this.$filterCount=$('#'+this.$filter.attr('aria-describedby'));cov_nq87ews4n().s[17]++;this.filterTextSingle=' '+this.$filterCount.data('single');cov_nq87ews4n().s[18]++;this.filterTextMultiple=' '+this.$filterCount.data('multiple');cov_nq87ews4n().s[19]++;this.filterTextSelected=' '+this.$filterCount.data('selected');cov_nq87ews4n().s[20]++;this.checkboxLabels=[];cov_nq87ews4n().s[21]++;this.filterTimeout=0;var that=(cov_nq87ews4n().s[22]++,this);cov_nq87ews4n().s[23]++;this.getAllCheckedCheckboxes();cov_nq87ews4n().s[24]++;this.$allCheckboxes.each(function(){cov_nq87ews4n().f[3]++;cov_nq87ews4n().s[25]++;that.checkboxLabels.push(that.cleanString($(this).text()));});cov_nq87ews4n().s[26]++;this.$filter.on('keyup',function(e){cov_nq87ews4n().f[4]++;cov_nq87ews4n().s[27]++;e.stopPropagation();var ENTER_KEY=(cov_nq87ews4n().s[28]++,13);cov_nq87ews4n().s[29]++;if(e.keyCode!==ENTER_KEY){cov_nq87ews4n().b[4][0]++;cov_nq87ews4n().s[30]++;clearTimeout(that.filterTimeout);cov_nq87ews4n().s[31]++;that.filterTimeout=setTimeout(function(){cov_nq87ews4n().f[5]++;cov_nq87ews4n().s[32]++;this.doFilter(this);}.bind(that),300);}else{cov_nq87ews4n().b[4][1]++;cov_nq87ews4n().s[33]++;e.preventDefault();// prevents finder forms from being submitted when user presses ENTER
}});}else{cov_nq87ews4n().b[3][1]++;}// Attach listener to update checked count
cov_nq87ews4n().s[34]++;this.$optionSelect.on('change',"input[type='checkbox']",this.updateCheckedCount.bind(this));// Replace div.container-head with a button
cov_nq87ews4n().s[35]++;this.replaceHeadingSpanWithButton();// Add js-collapsible class to parent for CSS
cov_nq87ews4n().s[36]++;this.$optionSelect.addClass('js-collapsible');// Add open/close listeners
cov_nq87ews4n().s[37]++;this.$optionSelect.find('.js-container-button').on('click',this.toggleOptionSelect.bind(this));cov_nq87ews4n().s[38]++;if(this.$optionSelect.data('closed-on-load')===true){cov_nq87ews4n().b[5][0]++;cov_nq87ews4n().s[39]++;this.close();}else{cov_nq87ews4n().b[5][1]++;cov_nq87ews4n().s[40]++;this.setupHeight();}var checkedString=(cov_nq87ews4n().s[41]++,this.checkedString());cov_nq87ews4n().s[42]++;if(checkedString){cov_nq87ews4n().b[6][0]++;cov_nq87ews4n().s[43]++;this.attachCheckedCounter(checkedString);}else{cov_nq87ews4n().b[6][1]++;}};cov_nq87ews4n().s[44]++;OptionSelect.prototype.cleanString=function cleanString(text){cov_nq87ews4n().f[6]++;cov_nq87ews4n().s[45]++;text=text.replace(/&/g,'and');cov_nq87ews4n().s[46]++;text=text.replace(/[’',:–-]/g,'');// remove punctuation characters
cov_nq87ews4n().s[47]++;text=text.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');// escape special characters
cov_nq87ews4n().s[48]++;return text.trim().replace(/\s\s+/g,' ').toLowerCase();// replace multiple spaces with one
};cov_nq87ews4n().s[49]++;OptionSelect.prototype.getAllCheckedCheckboxes=function getAllCheckedCheckboxes(){cov_nq87ews4n().f[7]++;cov_nq87ews4n().s[50]++;this.checkedCheckboxes=[];var that=(cov_nq87ews4n().s[51]++,this);cov_nq87ews4n().s[52]++;this.$allCheckboxes.each(function(i){cov_nq87ews4n().f[8]++;cov_nq87ews4n().s[53]++;if($(this).find('input[type=checkbox]').is(':checked')){cov_nq87ews4n().b[7][0]++;cov_nq87ews4n().s[54]++;that.checkedCheckboxes.push(i);}else{cov_nq87ews4n().b[7][1]++;}});};cov_nq87ews4n().s[55]++;OptionSelect.prototype.doFilter=function doFilter(obj){cov_nq87ews4n().f[9]++;var filterBy=(cov_nq87ews4n().s[56]++,obj.cleanString(obj.$filter.val()));var showCheckboxes=(cov_nq87ews4n().s[57]++,obj.checkedCheckboxes.slice());cov_nq87ews4n().s[58]++;for(var i=(cov_nq87ews4n().s[59]++,0);i<obj.$allCheckboxes.length;i++){cov_nq87ews4n().s[60]++;if((cov_nq87ews4n().b[9][0]++,showCheckboxes.indexOf(i)===-1)&&(cov_nq87ews4n().b[9][1]++,obj.checkboxLabels[i].search(filterBy)!==-1)){cov_nq87ews4n().b[8][0]++;cov_nq87ews4n().s[61]++;showCheckboxes.push(i);}else{cov_nq87ews4n().b[8][1]++;}}cov_nq87ews4n().s[62]++;obj.$allCheckboxes.hide();cov_nq87ews4n().s[63]++;for(var j=(cov_nq87ews4n().s[64]++,0);j<showCheckboxes.length;j++){cov_nq87ews4n().s[65]++;obj.$allCheckboxes.eq(showCheckboxes[j]).show();}var len=(cov_nq87ews4n().s[66]++,(cov_nq87ews4n().b[10][0]++,showCheckboxes.length)||(cov_nq87ews4n().b[10][1]++,0));var lenChecked=(cov_nq87ews4n().s[67]++,obj.$optionsContainer.find('.govuk-checkboxes__input:checked').length);cov_nq87ews4n().s[68]++;obj.$filterCount.html(len+(len===1?(cov_nq87ews4n().b[11][0]++,obj.filterTextSingle):(cov_nq87ews4n().b[11][1]++,obj.filterTextMultiple))+', '+lenChecked+obj.filterTextSelected);};cov_nq87ews4n().s[69]++;OptionSelect.prototype.replaceHeadingSpanWithButton=function replaceHeadingSpanWithButton(){cov_nq87ews4n().f[10]++;/* Replace the span within the heading with a button element. This is based on feedback from Léonie Watson.
     * The button has all of the accessibility hooks that are used by screen readers and etc.
     * We do this in the JavaScript because if the JavaScript is not active then the button shouldn't
     * be there as there is no JS to handle the click event.
    */var $containerHead=(cov_nq87ews4n().s[70]++,this.$optionSelect.find('.js-container-button'));var jsContainerHeadHTML=(cov_nq87ews4n().s[71]++,$containerHead.html());// Create button and replace the preexisting html with the button.
var $button=(cov_nq87ews4n().s[72]++,$('<button>'));cov_nq87ews4n().s[73]++;$button.addClass('js-container-button app-c-option-select__title app-c-option-select__button');// Add type button to override default type submit when this component is used within a form
cov_nq87ews4n().s[74]++;$button.attr('type','button');cov_nq87ews4n().s[75]++;$button.attr('aria-expanded',true);cov_nq87ews4n().s[76]++;$button.attr('id',$containerHead.attr('id'));cov_nq87ews4n().s[77]++;$button.attr('aria-controls',this.$optionsContainer.attr('id'));cov_nq87ews4n().s[78]++;$button.html(jsContainerHeadHTML);cov_nq87ews4n().s[79]++;$containerHead.replaceWith($button);};cov_nq87ews4n().s[80]++;OptionSelect.prototype.attachCheckedCounter=function attachCheckedCounter(checkedString){cov_nq87ews4n().f[11]++;cov_nq87ews4n().s[81]++;this.$optionSelect.find('.js-container-button').after('<div class="app-c-option-select__selected-counter js-selected-counter">'+checkedString+'</div>');};cov_nq87ews4n().s[82]++;OptionSelect.prototype.updateCheckedCount=function updateCheckedCount(){cov_nq87ews4n().f[12]++;var checkedString=(cov_nq87ews4n().s[83]++,this.checkedString());var checkedStringElement=(cov_nq87ews4n().s[84]++,this.$optionSelect.find('.js-selected-counter'));cov_nq87ews4n().s[85]++;if(checkedString){cov_nq87ews4n().b[12][0]++;cov_nq87ews4n().s[86]++;if(checkedStringElement.length){cov_nq87ews4n().b[13][0]++;cov_nq87ews4n().s[87]++;checkedStringElement.text(checkedString);}else{cov_nq87ews4n().b[13][1]++;cov_nq87ews4n().s[88]++;this.attachCheckedCounter(checkedString);}}else{cov_nq87ews4n().b[12][1]++;cov_nq87ews4n().s[89]++;checkedStringElement.remove();}};cov_nq87ews4n().s[90]++;OptionSelect.prototype.checkedString=function checkedString(){cov_nq87ews4n().f[13]++;cov_nq87ews4n().s[91]++;this.getAllCheckedCheckboxes();var count=(cov_nq87ews4n().s[92]++,this.checkedCheckboxes.length);var checkedString=(cov_nq87ews4n().s[93]++,false);cov_nq87ews4n().s[94]++;if(count>0){cov_nq87ews4n().b[14][0]++;cov_nq87ews4n().s[95]++;checkedString=count+' selected';}else{cov_nq87ews4n().b[14][1]++;}cov_nq87ews4n().s[96]++;return checkedString;};cov_nq87ews4n().s[97]++;OptionSelect.prototype.toggleOptionSelect=function toggleOptionSelect(e){cov_nq87ews4n().f[14]++;cov_nq87ews4n().s[98]++;if(this.isClosed()){cov_nq87ews4n().b[15][0]++;cov_nq87ews4n().s[99]++;this.open();}else{cov_nq87ews4n().b[15][1]++;cov_nq87ews4n().s[100]++;this.close();}cov_nq87ews4n().s[101]++;e.preventDefault();};cov_nq87ews4n().s[102]++;OptionSelect.prototype.open=function open(){cov_nq87ews4n().f[15]++;cov_nq87ews4n().s[103]++;if(this.isClosed()){cov_nq87ews4n().b[16][0]++;cov_nq87ews4n().s[104]++;this.$optionSelect.find('.js-container-button').attr('aria-expanded',true);cov_nq87ews4n().s[105]++;this.$optionSelect.removeClass('js-closed');cov_nq87ews4n().s[106]++;this.$optionSelect.addClass('js-opened');cov_nq87ews4n().s[107]++;if(!this.$optionsContainer.prop('style').height){cov_nq87ews4n().b[17][0]++;cov_nq87ews4n().s[108]++;this.setupHeight();}else{cov_nq87ews4n().b[17][1]++;}}else{cov_nq87ews4n().b[16][1]++;}};cov_nq87ews4n().s[109]++;OptionSelect.prototype.close=function close(){cov_nq87ews4n().f[16]++;cov_nq87ews4n().s[110]++;this.$optionSelect.removeClass('js-opened');cov_nq87ews4n().s[111]++;this.$optionSelect.addClass('js-closed');cov_nq87ews4n().s[112]++;this.$optionSelect.find('.js-container-button').attr('aria-expanded',false);};cov_nq87ews4n().s[113]++;OptionSelect.prototype.isClosed=function isClosed(){cov_nq87ews4n().f[17]++;cov_nq87ews4n().s[114]++;return this.$optionSelect.hasClass('js-closed');};cov_nq87ews4n().s[115]++;OptionSelect.prototype.setContainerHeight=function setContainerHeight(height){cov_nq87ews4n().f[18]++;cov_nq87ews4n().s[116]++;this.$optionsContainer.css({'height':height});};cov_nq87ews4n().s[117]++;OptionSelect.prototype.isCheckboxVisible=function isCheckboxVisible(index,option){cov_nq87ews4n().f[19]++;var $checkbox=(cov_nq87ews4n().s[118]++,$(option));var initialOptionContainerHeight=(cov_nq87ews4n().s[119]++,this.$optionsContainer.height());var optionListOffsetTop=(cov_nq87ews4n().s[120]++,this.$optionList.offset().top);var distanceFromTopOfContainer=(cov_nq87ews4n().s[121]++,$checkbox.offset().top-optionListOffsetTop);cov_nq87ews4n().s[122]++;return distanceFromTopOfContainer<initialOptionContainerHeight;};cov_nq87ews4n().s[123]++;OptionSelect.prototype.getVisibleCheckboxes=function getVisibleCheckboxes(){cov_nq87ews4n().f[20]++;var visibleCheckboxes=(cov_nq87ews4n().s[124]++,this.$options.filter(this.isCheckboxVisible.bind(this)));// add an extra checkbox, if the label of the first is too long it collapses onto itself
cov_nq87ews4n().s[125]++;visibleCheckboxes=visibleCheckboxes.add(this.$options[visibleCheckboxes.length]);cov_nq87ews4n().s[126]++;return visibleCheckboxes;};cov_nq87ews4n().s[127]++;OptionSelect.prototype.setupHeight=function setupHeight(){cov_nq87ews4n().f[21]++;var initialOptionContainerHeight=(cov_nq87ews4n().s[128]++,this.$optionsContainer.height());var height=(cov_nq87ews4n().s[129]++,this.$optionList.outerHeight(true));// check whether this is hidden by progressive disclosure,
// because height calculations won't work
cov_nq87ews4n().s[130]++;if(this.$optionsContainer[0].offsetParent===null){cov_nq87ews4n().b[18][0]++;cov_nq87ews4n().s[131]++;initialOptionContainerHeight=200;cov_nq87ews4n().s[132]++;height=200;}else{cov_nq87ews4n().b[18][1]++;}// Resize if the list is only slightly bigger than its container
cov_nq87ews4n().s[133]++;if(height<initialOptionContainerHeight+50){cov_nq87ews4n().b[19][0]++;cov_nq87ews4n().s[134]++;this.setContainerHeight(height+1);cov_nq87ews4n().s[135]++;return;}else{cov_nq87ews4n().b[19][1]++;}// Resize to cut last item cleanly in half
var lastVisibleCheckbox=(cov_nq87ews4n().s[136]++,this.getVisibleCheckboxes().last());var position=(cov_nq87ews4n().s[137]++,lastVisibleCheckbox.parent()[0].offsetTop);// parent element is relative
cov_nq87ews4n().s[138]++;this.setContainerHeight(position+lastVisibleCheckbox.height()/1.5);};cov_nq87ews4n().s[139]++;Modules.OptionSelect=OptionSelect;})(window.GOVUK.Modules);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9wdGlvbi1zZWxlY3QuanMiXSwibmFtZXMiOlsid2luZG93IiwiR09WVUsiLCJNb2R1bGVzIiwiT3B0aW9uU2VsZWN0IiwicHJvdG90eXBlIiwic3RhcnQiLCIkbW9kdWxlIiwiJG9wdGlvblNlbGVjdCIsIiRvcHRpb25zIiwiZmluZCIsIiRvcHRpb25zQ29udGFpbmVyIiwiJG9wdGlvbkxpc3QiLCJjaGlsZHJlbiIsIiRhbGxDaGVja2JveGVzIiwiaGFzRmlsdGVyIiwiZGF0YSIsImNoZWNrZWRDaGVja2JveGVzIiwibGVuZ3RoIiwiZmlsdGVyRWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCIkIiwiaHRtbCIsImNoaWxkTm9kZXMiLCJub2RlVmFsdWUiLCJpbnNlcnRCZWZvcmUiLCIkZmlsdGVyIiwiJGZpbHRlckNvdW50IiwiYXR0ciIsImZpbHRlclRleHRTaW5nbGUiLCJmaWx0ZXJUZXh0TXVsdGlwbGUiLCJmaWx0ZXJUZXh0U2VsZWN0ZWQiLCJjaGVja2JveExhYmVscyIsImZpbHRlclRpbWVvdXQiLCJ0aGF0IiwiZ2V0QWxsQ2hlY2tlZENoZWNrYm94ZXMiLCJlYWNoIiwicHVzaCIsImNsZWFuU3RyaW5nIiwidGV4dCIsIm9uIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIkVOVEVSX0tFWSIsImtleUNvZGUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZG9GaWx0ZXIiLCJiaW5kIiwicHJldmVudERlZmF1bHQiLCJ1cGRhdGVDaGVja2VkQ291bnQiLCJyZXBsYWNlSGVhZGluZ1NwYW5XaXRoQnV0dG9uIiwiYWRkQ2xhc3MiLCJ0b2dnbGVPcHRpb25TZWxlY3QiLCJjbG9zZSIsInNldHVwSGVpZ2h0IiwiY2hlY2tlZFN0cmluZyIsImF0dGFjaENoZWNrZWRDb3VudGVyIiwicmVwbGFjZSIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsImkiLCJpcyIsIm9iaiIsImZpbHRlckJ5IiwidmFsIiwic2hvd0NoZWNrYm94ZXMiLCJzbGljZSIsImluZGV4T2YiLCJzZWFyY2giLCJoaWRlIiwiaiIsImVxIiwic2hvdyIsImxlbiIsImxlbkNoZWNrZWQiLCIkY29udGFpbmVySGVhZCIsImpzQ29udGFpbmVySGVhZEhUTUwiLCIkYnV0dG9uIiwicmVwbGFjZVdpdGgiLCJhZnRlciIsImNoZWNrZWRTdHJpbmdFbGVtZW50IiwicmVtb3ZlIiwiY291bnQiLCJpc0Nsb3NlZCIsIm9wZW4iLCJyZW1vdmVDbGFzcyIsInByb3AiLCJoZWlnaHQiLCJoYXNDbGFzcyIsInNldENvbnRhaW5lckhlaWdodCIsImNzcyIsImlzQ2hlY2tib3hWaXNpYmxlIiwiaW5kZXgiLCJvcHRpb24iLCIkY2hlY2tib3giLCJpbml0aWFsT3B0aW9uQ29udGFpbmVySGVpZ2h0Iiwib3B0aW9uTGlzdE9mZnNldFRvcCIsIm9mZnNldCIsInRvcCIsImRpc3RhbmNlRnJvbVRvcE9mQ29udGFpbmVyIiwiZ2V0VmlzaWJsZUNoZWNrYm94ZXMiLCJ2aXNpYmxlQ2hlY2tib3hlcyIsImZpbHRlciIsImFkZCIsIm91dGVySGVpZ2h0Iiwib2Zmc2V0UGFyZW50IiwibGFzdFZpc2libGVDaGVja2JveCIsImxhc3QiLCJwb3NpdGlvbiIsInBhcmVudCIsIm9mZnNldFRvcCJdLCJtYXBwaW5ncyI6Ink3aEJBZVk7Z0hBZlosdUJBQ0FBLE1BQU0sQ0FBQ0MsS0FBUCxDQUFlLDJCQUFBRCxNQUFNLENBQUNDLEtBQVAsOEJBQWdCLEVBQWhCLENBQWYsQyx1QkFDQUQsTUFBTSxDQUFDQyxLQUFQLENBQWFDLE9BQWIsQ0FBdUIsMkJBQUFGLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhQyxPQUFiLDhCQUF3QixFQUF4QixDQUF2QixDLHVCQUVBLENBQUMsU0FBVUEsT0FBVixDQUFtQix3QkFDbEIsUUFBU0MsQ0FBQUEsWUFBVCxFQUF5Qix3QkFBRSxDQUUzQjtBQUNGO0FBQ0E7QUFDQSxJQU5vQix1QkFPbEJBLFlBQVksQ0FBQ0MsU0FBYixDQUF1QkMsS0FBdkIsQ0FBK0IsU0FBVUMsT0FBVixD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LENBQUNDLFlBQVIsQ0FBdUJBLFlBQXZCLENBQ0QsQ0FuUEQsRUFtUEdILE1BQU0sQ0FBQ0MsS0FBUCxDQUFhQyxPQW5QaEIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IGpxdWVyeSAqL1xud2luZG93LkdPVlVLID0gd2luZG93LkdPVlVLIHx8IHt9XG53aW5kb3cuR09WVUsuTW9kdWxlcyA9IHdpbmRvdy5HT1ZVSy5Nb2R1bGVzIHx8IHt9O1xuXG4oZnVuY3Rpb24gKE1vZHVsZXMpIHtcbiAgZnVuY3Rpb24gT3B0aW9uU2VsZWN0ICgpIHt9XG5cbiAgLyogVGhpcyBKYXZhU2NyaXB0IHByb3ZpZGVzIHR3byBmdW5jdGlvbmFsIGVuaGFuY2VtZW50cyB0byBvcHRpb24tc2VsZWN0IGNvbXBvbmVudHM6XG4gICAgMSkgQSBjb3VudCB0aGF0IHNob3dzIGhvdyBtYW55IHJlc3VsdHMgaGF2ZSBiZWVuIGNoZWNrZWQgaW4gdGhlIG9wdGlvbi1jb250YWluZXJcbiAgICAyKSBPcGVuL2Nsb3Npbmcgb2YgdGhlIGxpc3Qgb2YgY2hlY2tib3hlc1xuICAqL1xuICBPcHRpb25TZWxlY3QucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCRtb2R1bGUpIHtcbiAgICB0aGlzLiRvcHRpb25TZWxlY3QgPSAkbW9kdWxlXG4gICAgdGhpcy4kb3B0aW9ucyA9IHRoaXMuJG9wdGlvblNlbGVjdC5maW5kKFwiaW5wdXRbdHlwZT0nY2hlY2tib3gnXVwiKVxuICAgIHRoaXMuJG9wdGlvbnNDb250YWluZXIgPSB0aGlzLiRvcHRpb25TZWxlY3QuZmluZCgnLmpzLW9wdGlvbnMtY29udGFpbmVyJylcbiAgICB0aGlzLiRvcHRpb25MaXN0ID0gdGhpcy4kb3B0aW9uc0NvbnRhaW5lci5jaGlsZHJlbignLmpzLWF1dG8taGVpZ2h0LWlubmVyJylcbiAgICB0aGlzLiRhbGxDaGVja2JveGVzID0gdGhpcy4kb3B0aW9uc0NvbnRhaW5lci5maW5kKCcuZ292dWstY2hlY2tib3hlc19faXRlbScpXG4gICAgdGhpcy5oYXNGaWx0ZXIgPSB0aGlzLiRvcHRpb25TZWxlY3QuZGF0YSgnZmlsdGVyLWVsZW1lbnQnKSB8fCAnJ1xuICAgIHRoaXMuY2hlY2tlZENoZWNrYm94ZXMgPSBbXVxuXG4gICAgaWYgKHRoaXMuaGFzRmlsdGVyLmxlbmd0aCkge1xuICAgICAgdmFyIGZpbHRlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIGZpbHRlckVsLmlubmVySFRNTCA9IHRoaXMuaGFzRmlsdGVyXG5cbiAgICAgICQoJzxkaXYgY2xhc3M9XCJhcHAtYy1vcHRpb24tc2VsZWN0X19maWx0ZXJcIi8+JylcbiAgICAgICAgLmh0bWwoZmlsdGVyRWwuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpXG4gICAgICAgIC5pbnNlcnRCZWZvcmUodGhpcy4kb3B0aW9uc0NvbnRhaW5lcilcblxuICAgICAgdGhpcy4kZmlsdGVyID0gdGhpcy4kb3B0aW9uU2VsZWN0LmZpbmQoJ2lucHV0W25hbWU9XCJvcHRpb24tc2VsZWN0LWZpbHRlclwiXScpXG4gICAgICB0aGlzLiRmaWx0ZXJDb3VudCA9ICQoJyMnICsgdGhpcy4kZmlsdGVyLmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknKSlcbiAgICAgIHRoaXMuZmlsdGVyVGV4dFNpbmdsZSA9ICcgJyArIHRoaXMuJGZpbHRlckNvdW50LmRhdGEoJ3NpbmdsZScpXG4gICAgICB0aGlzLmZpbHRlclRleHRNdWx0aXBsZSA9ICcgJyArIHRoaXMuJGZpbHRlckNvdW50LmRhdGEoJ211bHRpcGxlJylcbiAgICAgIHRoaXMuZmlsdGVyVGV4dFNlbGVjdGVkID0gJyAnICsgdGhpcy4kZmlsdGVyQ291bnQuZGF0YSgnc2VsZWN0ZWQnKVxuICAgICAgdGhpcy5jaGVja2JveExhYmVscyA9IFtdXG4gICAgICB0aGlzLmZpbHRlclRpbWVvdXQgPSAwXG4gICAgICB2YXIgdGhhdCA9IHRoaXNcblxuICAgICAgdGhpcy5nZXRBbGxDaGVja2VkQ2hlY2tib3hlcygpXG4gICAgICB0aGlzLiRhbGxDaGVja2JveGVzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LmNoZWNrYm94TGFiZWxzLnB1c2godGhhdC5jbGVhblN0cmluZygkKHRoaXMpLnRleHQoKSkpXG4gICAgICB9KVxuXG4gICAgICB0aGlzLiRmaWx0ZXIub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICB2YXIgRU5URVJfS0VZID0gMTNcblxuICAgICAgICBpZiAoZS5rZXlDb2RlICE9PSBFTlRFUl9LRVkpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhhdC5maWx0ZXJUaW1lb3V0KVxuICAgICAgICAgIHRoYXQuZmlsdGVyVGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHRoaXMuZG9GaWx0ZXIodGhpcykgfS5iaW5kKHRoYXQpLFxuICAgICAgICAgICAgMzAwXG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKSAvLyBwcmV2ZW50cyBmaW5kZXIgZm9ybXMgZnJvbSBiZWluZyBzdWJtaXR0ZWQgd2hlbiB1c2VyIHByZXNzZXMgRU5URVJcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBBdHRhY2ggbGlzdGVuZXIgdG8gdXBkYXRlIGNoZWNrZWQgY291bnRcbiAgICB0aGlzLiRvcHRpb25TZWxlY3Qub24oJ2NoYW5nZScsIFwiaW5wdXRbdHlwZT0nY2hlY2tib3gnXVwiLCB0aGlzLnVwZGF0ZUNoZWNrZWRDb3VudC5iaW5kKHRoaXMpKVxuXG4gICAgLy8gUmVwbGFjZSBkaXYuY29udGFpbmVyLWhlYWQgd2l0aCBhIGJ1dHRvblxuICAgIHRoaXMucmVwbGFjZUhlYWRpbmdTcGFuV2l0aEJ1dHRvbigpXG5cbiAgICAvLyBBZGQganMtY29sbGFwc2libGUgY2xhc3MgdG8gcGFyZW50IGZvciBDU1NcbiAgICB0aGlzLiRvcHRpb25TZWxlY3QuYWRkQ2xhc3MoJ2pzLWNvbGxhcHNpYmxlJylcblxuICAgIC8vIEFkZCBvcGVuL2Nsb3NlIGxpc3RlbmVyc1xuICAgIHRoaXMuJG9wdGlvblNlbGVjdC5maW5kKCcuanMtY29udGFpbmVyLWJ1dHRvbicpLm9uKCdjbGljaycsIHRoaXMudG9nZ2xlT3B0aW9uU2VsZWN0LmJpbmQodGhpcykpXG5cbiAgICBpZiAodGhpcy4kb3B0aW9uU2VsZWN0LmRhdGEoJ2Nsb3NlZC1vbi1sb2FkJykgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldHVwSGVpZ2h0KClcbiAgICB9XG5cbiAgICB2YXIgY2hlY2tlZFN0cmluZyA9IHRoaXMuY2hlY2tlZFN0cmluZygpXG4gICAgaWYgKGNoZWNrZWRTdHJpbmcpIHtcbiAgICAgIHRoaXMuYXR0YWNoQ2hlY2tlZENvdW50ZXIoY2hlY2tlZFN0cmluZylcbiAgICB9XG4gIH1cblxuICBPcHRpb25TZWxlY3QucHJvdG90eXBlLmNsZWFuU3RyaW5nID0gZnVuY3Rpb24gY2xlYW5TdHJpbmcgKHRleHQpIHtcbiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC8mL2csICdhbmQnKVxuICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1vigJknLDrigJMtXS9nLCAnJykgLy8gcmVtb3ZlIHB1bmN0dWF0aW9uIGNoYXJhY3RlcnNcbiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpIC8vIGVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnNcbiAgICByZXR1cm4gdGV4dC50cmltKCkucmVwbGFjZSgvXFxzXFxzKy9nLCAnICcpLnRvTG93ZXJDYXNlKCkgLy8gcmVwbGFjZSBtdWx0aXBsZSBzcGFjZXMgd2l0aCBvbmVcbiAgfVxuXG4gIE9wdGlvblNlbGVjdC5wcm90b3R5cGUuZ2V0QWxsQ2hlY2tlZENoZWNrYm94ZXMgPSBmdW5jdGlvbiBnZXRBbGxDaGVja2VkQ2hlY2tib3hlcyAoKSB7XG4gICAgdGhpcy5jaGVja2VkQ2hlY2tib3hlcyA9IFtdXG4gICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICB0aGlzLiRhbGxDaGVja2JveGVzLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgIGlmICgkKHRoaXMpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgdGhhdC5jaGVja2VkQ2hlY2tib3hlcy5wdXNoKGkpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIE9wdGlvblNlbGVjdC5wcm90b3R5cGUuZG9GaWx0ZXIgPSBmdW5jdGlvbiBkb0ZpbHRlciAob2JqKSB7XG4gICAgdmFyIGZpbHRlckJ5ID0gb2JqLmNsZWFuU3RyaW5nKG9iai4kZmlsdGVyLnZhbCgpKVxuICAgIHZhciBzaG93Q2hlY2tib3hlcyA9IG9iai5jaGVja2VkQ2hlY2tib3hlcy5zbGljZSgpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai4kYWxsQ2hlY2tib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNob3dDaGVja2JveGVzLmluZGV4T2YoaSkgPT09IC0xICYmIG9iai5jaGVja2JveExhYmVsc1tpXS5zZWFyY2goZmlsdGVyQnkpICE9PSAtMSkge1xuICAgICAgICBzaG93Q2hlY2tib3hlcy5wdXNoKGkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgb2JqLiRhbGxDaGVja2JveGVzLmhpZGUoKVxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2hvd0NoZWNrYm94ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIG9iai4kYWxsQ2hlY2tib3hlcy5lcShzaG93Q2hlY2tib3hlc1tqXSkuc2hvdygpXG4gICAgfVxuXG4gICAgdmFyIGxlbiA9IHNob3dDaGVja2JveGVzLmxlbmd0aCB8fCAwXG4gICAgdmFyIGxlbkNoZWNrZWQgPSBvYmouJG9wdGlvbnNDb250YWluZXIuZmluZCgnLmdvdnVrLWNoZWNrYm94ZXNfX2lucHV0OmNoZWNrZWQnKS5sZW5ndGhcbiAgICBvYmouJGZpbHRlckNvdW50Lmh0bWwobGVuICsgKGxlbiA9PT0gMSA/IG9iai5maWx0ZXJUZXh0U2luZ2xlIDogb2JqLmZpbHRlclRleHRNdWx0aXBsZSkgKyAnLCAnICsgbGVuQ2hlY2tlZCArIG9iai5maWx0ZXJUZXh0U2VsZWN0ZWQpXG4gIH1cblxuICBPcHRpb25TZWxlY3QucHJvdG90eXBlLnJlcGxhY2VIZWFkaW5nU3BhbldpdGhCdXR0b24gPSBmdW5jdGlvbiByZXBsYWNlSGVhZGluZ1NwYW5XaXRoQnV0dG9uICgpIHtcbiAgICAvKiBSZXBsYWNlIHRoZSBzcGFuIHdpdGhpbiB0aGUgaGVhZGluZyB3aXRoIGEgYnV0dG9uIGVsZW1lbnQuIFRoaXMgaXMgYmFzZWQgb24gZmVlZGJhY2sgZnJvbSBMw6lvbmllIFdhdHNvbi5cbiAgICAgKiBUaGUgYnV0dG9uIGhhcyBhbGwgb2YgdGhlIGFjY2Vzc2liaWxpdHkgaG9va3MgdGhhdCBhcmUgdXNlZCBieSBzY3JlZW4gcmVhZGVycyBhbmQgZXRjLlxuICAgICAqIFdlIGRvIHRoaXMgaW4gdGhlIEphdmFTY3JpcHQgYmVjYXVzZSBpZiB0aGUgSmF2YVNjcmlwdCBpcyBub3QgYWN0aXZlIHRoZW4gdGhlIGJ1dHRvbiBzaG91bGRuJ3RcbiAgICAgKiBiZSB0aGVyZSBhcyB0aGVyZSBpcyBubyBKUyB0byBoYW5kbGUgdGhlIGNsaWNrIGV2ZW50LlxuICAgICovXG4gICAgdmFyICRjb250YWluZXJIZWFkID0gdGhpcy4kb3B0aW9uU2VsZWN0LmZpbmQoJy5qcy1jb250YWluZXItYnV0dG9uJylcbiAgICB2YXIganNDb250YWluZXJIZWFkSFRNTCA9ICRjb250YWluZXJIZWFkLmh0bWwoKVxuXG4gICAgLy8gQ3JlYXRlIGJ1dHRvbiBhbmQgcmVwbGFjZSB0aGUgcHJlZXhpc3RpbmcgaHRtbCB3aXRoIHRoZSBidXR0b24uXG4gICAgdmFyICRidXR0b24gPSAkKCc8YnV0dG9uPicpXG4gICAgJGJ1dHRvbi5hZGRDbGFzcygnanMtY29udGFpbmVyLWJ1dHRvbiBhcHAtYy1vcHRpb24tc2VsZWN0X190aXRsZSBhcHAtYy1vcHRpb24tc2VsZWN0X19idXR0b24nKVxuICAgIC8vIEFkZCB0eXBlIGJ1dHRvbiB0byBvdmVycmlkZSBkZWZhdWx0IHR5cGUgc3VibWl0IHdoZW4gdGhpcyBjb21wb25lbnQgaXMgdXNlZCB3aXRoaW4gYSBmb3JtXG4gICAgJGJ1dHRvbi5hdHRyKCd0eXBlJywgJ2J1dHRvbicpXG4gICAgJGJ1dHRvbi5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAkYnV0dG9uLmF0dHIoJ2lkJywgJGNvbnRhaW5lckhlYWQuYXR0cignaWQnKSlcbiAgICAkYnV0dG9uLmF0dHIoJ2FyaWEtY29udHJvbHMnLCB0aGlzLiRvcHRpb25zQ29udGFpbmVyLmF0dHIoJ2lkJykpXG4gICAgJGJ1dHRvbi5odG1sKGpzQ29udGFpbmVySGVhZEhUTUwpXG4gICAgJGNvbnRhaW5lckhlYWQucmVwbGFjZVdpdGgoJGJ1dHRvbilcbiAgfVxuXG4gIE9wdGlvblNlbGVjdC5wcm90b3R5cGUuYXR0YWNoQ2hlY2tlZENvdW50ZXIgPSBmdW5jdGlvbiBhdHRhY2hDaGVja2VkQ291bnRlciAoY2hlY2tlZFN0cmluZykge1xuICAgIHRoaXMuJG9wdGlvblNlbGVjdC5maW5kKCcuanMtY29udGFpbmVyLWJ1dHRvbicpXG4gICAgICAuYWZ0ZXIoJzxkaXYgY2xhc3M9XCJhcHAtYy1vcHRpb24tc2VsZWN0X19zZWxlY3RlZC1jb3VudGVyIGpzLXNlbGVjdGVkLWNvdW50ZXJcIj4nICsgY2hlY2tlZFN0cmluZyArICc8L2Rpdj4nKVxuICB9XG5cbiAgT3B0aW9uU2VsZWN0LnByb3RvdHlwZS51cGRhdGVDaGVja2VkQ291bnQgPSBmdW5jdGlvbiB1cGRhdGVDaGVja2VkQ291bnQgKCkge1xuICAgIHZhciBjaGVja2VkU3RyaW5nID0gdGhpcy5jaGVja2VkU3RyaW5nKClcbiAgICB2YXIgY2hlY2tlZFN0cmluZ0VsZW1lbnQgPSB0aGlzLiRvcHRpb25TZWxlY3QuZmluZCgnLmpzLXNlbGVjdGVkLWNvdW50ZXInKVxuXG4gICAgaWYgKGNoZWNrZWRTdHJpbmcpIHtcbiAgICAgIGlmIChjaGVja2VkU3RyaW5nRWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgY2hlY2tlZFN0cmluZ0VsZW1lbnQudGV4dChjaGVja2VkU3RyaW5nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hdHRhY2hDaGVja2VkQ291bnRlcihjaGVja2VkU3RyaW5nKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjaGVja2VkU3RyaW5nRWxlbWVudC5yZW1vdmUoKVxuICAgIH1cbiAgfVxuXG4gIE9wdGlvblNlbGVjdC5wcm90b3R5cGUuY2hlY2tlZFN0cmluZyA9IGZ1bmN0aW9uIGNoZWNrZWRTdHJpbmcgKCkge1xuICAgIHRoaXMuZ2V0QWxsQ2hlY2tlZENoZWNrYm94ZXMoKVxuICAgIHZhciBjb3VudCA9IHRoaXMuY2hlY2tlZENoZWNrYm94ZXMubGVuZ3RoXG4gICAgdmFyIGNoZWNrZWRTdHJpbmcgPSBmYWxzZVxuICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgIGNoZWNrZWRTdHJpbmcgPSBjb3VudCArICcgc2VsZWN0ZWQnXG4gICAgfVxuXG4gICAgcmV0dXJuIGNoZWNrZWRTdHJpbmdcbiAgfVxuXG4gIE9wdGlvblNlbGVjdC5wcm90b3R5cGUudG9nZ2xlT3B0aW9uU2VsZWN0ID0gZnVuY3Rpb24gdG9nZ2xlT3B0aW9uU2VsZWN0IChlKSB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQoKSkge1xuICAgICAgdGhpcy5vcGVuKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgT3B0aW9uU2VsZWN0LnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gb3BlbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQoKSkge1xuICAgICAgdGhpcy4kb3B0aW9uU2VsZWN0LmZpbmQoJy5qcy1jb250YWluZXItYnV0dG9uJykuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gICAgICB0aGlzLiRvcHRpb25TZWxlY3QucmVtb3ZlQ2xhc3MoJ2pzLWNsb3NlZCcpXG4gICAgICB0aGlzLiRvcHRpb25TZWxlY3QuYWRkQ2xhc3MoJ2pzLW9wZW5lZCcpXG4gICAgICBpZiAoIXRoaXMuJG9wdGlvbnNDb250YWluZXIucHJvcCgnc3R5bGUnKS5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy5zZXR1cEhlaWdodCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgT3B0aW9uU2VsZWN0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIGNsb3NlICgpIHtcbiAgICB0aGlzLiRvcHRpb25TZWxlY3QucmVtb3ZlQ2xhc3MoJ2pzLW9wZW5lZCcpXG4gICAgdGhpcy4kb3B0aW9uU2VsZWN0LmFkZENsYXNzKCdqcy1jbG9zZWQnKVxuICAgIHRoaXMuJG9wdGlvblNlbGVjdC5maW5kKCcuanMtY29udGFpbmVyLWJ1dHRvbicpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgfVxuXG4gIE9wdGlvblNlbGVjdC5wcm90b3R5cGUuaXNDbG9zZWQgPSBmdW5jdGlvbiBpc0Nsb3NlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJG9wdGlvblNlbGVjdC5oYXNDbGFzcygnanMtY2xvc2VkJylcbiAgfVxuXG4gIE9wdGlvblNlbGVjdC5wcm90b3R5cGUuc2V0Q29udGFpbmVySGVpZ2h0ID0gZnVuY3Rpb24gc2V0Q29udGFpbmVySGVpZ2h0IChoZWlnaHQpIHtcbiAgICB0aGlzLiRvcHRpb25zQ29udGFpbmVyLmNzcyh7XG4gICAgICAnaGVpZ2h0JzogaGVpZ2h0XG4gICAgfSlcbiAgfVxuXG4gIE9wdGlvblNlbGVjdC5wcm90b3R5cGUuaXNDaGVja2JveFZpc2libGUgPSBmdW5jdGlvbiBpc0NoZWNrYm94VmlzaWJsZSAoaW5kZXgsIG9wdGlvbikge1xuICAgIHZhciAkY2hlY2tib3ggPSAkKG9wdGlvbilcbiAgICB2YXIgaW5pdGlhbE9wdGlvbkNvbnRhaW5lckhlaWdodCA9IHRoaXMuJG9wdGlvbnNDb250YWluZXIuaGVpZ2h0KClcbiAgICB2YXIgb3B0aW9uTGlzdE9mZnNldFRvcCA9IHRoaXMuJG9wdGlvbkxpc3Qub2Zmc2V0KCkudG9wXG4gICAgdmFyIGRpc3RhbmNlRnJvbVRvcE9mQ29udGFpbmVyID0gJGNoZWNrYm94Lm9mZnNldCgpLnRvcCAtIG9wdGlvbkxpc3RPZmZzZXRUb3BcbiAgICByZXR1cm4gZGlzdGFuY2VGcm9tVG9wT2ZDb250YWluZXIgPCBpbml0aWFsT3B0aW9uQ29udGFpbmVySGVpZ2h0XG4gIH1cblxuICBPcHRpb25TZWxlY3QucHJvdG90eXBlLmdldFZpc2libGVDaGVja2JveGVzID0gZnVuY3Rpb24gZ2V0VmlzaWJsZUNoZWNrYm94ZXMgKCkge1xuICAgIHZhciB2aXNpYmxlQ2hlY2tib3hlcyA9IHRoaXMuJG9wdGlvbnMuZmlsdGVyKHRoaXMuaXNDaGVja2JveFZpc2libGUuYmluZCh0aGlzKSlcbiAgICAvLyBhZGQgYW4gZXh0cmEgY2hlY2tib3gsIGlmIHRoZSBsYWJlbCBvZiB0aGUgZmlyc3QgaXMgdG9vIGxvbmcgaXQgY29sbGFwc2VzIG9udG8gaXRzZWxmXG4gICAgdmlzaWJsZUNoZWNrYm94ZXMgPSB2aXNpYmxlQ2hlY2tib3hlcy5hZGQodGhpcy4kb3B0aW9uc1t2aXNpYmxlQ2hlY2tib3hlcy5sZW5ndGhdKVxuICAgIHJldHVybiB2aXNpYmxlQ2hlY2tib3hlc1xuICB9XG5cbiAgT3B0aW9uU2VsZWN0LnByb3RvdHlwZS5zZXR1cEhlaWdodCA9IGZ1bmN0aW9uIHNldHVwSGVpZ2h0ICgpIHtcbiAgICB2YXIgaW5pdGlhbE9wdGlvbkNvbnRhaW5lckhlaWdodCA9IHRoaXMuJG9wdGlvbnNDb250YWluZXIuaGVpZ2h0KClcbiAgICB2YXIgaGVpZ2h0ID0gdGhpcy4kb3B0aW9uTGlzdC5vdXRlckhlaWdodCh0cnVlKVxuXG4gICAgLy8gY2hlY2sgd2hldGhlciB0aGlzIGlzIGhpZGRlbiBieSBwcm9ncmVzc2l2ZSBkaXNjbG9zdXJlLFxuICAgIC8vIGJlY2F1c2UgaGVpZ2h0IGNhbGN1bGF0aW9ucyB3b24ndCB3b3JrXG4gICAgaWYgKHRoaXMuJG9wdGlvbnNDb250YWluZXJbMF0ub2Zmc2V0UGFyZW50ID09PSBudWxsKSB7XG4gICAgICBpbml0aWFsT3B0aW9uQ29udGFpbmVySGVpZ2h0ID0gMjAwXG4gICAgICBoZWlnaHQgPSAyMDBcbiAgICB9XG5cbiAgICAvLyBSZXNpemUgaWYgdGhlIGxpc3QgaXMgb25seSBzbGlnaHRseSBiaWdnZXIgdGhhbiBpdHMgY29udGFpbmVyXG4gICAgaWYgKGhlaWdodCA8IGluaXRpYWxPcHRpb25Db250YWluZXJIZWlnaHQgKyA1MCkge1xuICAgICAgdGhpcy5zZXRDb250YWluZXJIZWlnaHQoaGVpZ2h0ICsgMSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFJlc2l6ZSB0byBjdXQgbGFzdCBpdGVtIGNsZWFubHkgaW4gaGFsZlxuICAgIHZhciBsYXN0VmlzaWJsZUNoZWNrYm94ID0gdGhpcy5nZXRWaXNpYmxlQ2hlY2tib3hlcygpLmxhc3QoKVxuICAgIHZhciBwb3NpdGlvbiA9IGxhc3RWaXNpYmxlQ2hlY2tib3gucGFyZW50KClbMF0ub2Zmc2V0VG9wIC8vIHBhcmVudCBlbGVtZW50IGlzIHJlbGF0aXZlXG4gICAgdGhpcy5zZXRDb250YWluZXJIZWlnaHQocG9zaXRpb24gKyAobGFzdFZpc2libGVDaGVja2JveC5oZWlnaHQoKSAvIDEuNSkpXG4gIH1cblxuICBNb2R1bGVzLk9wdGlvblNlbGVjdCA9IE9wdGlvblNlbGVjdFxufSkod2luZG93LkdPVlVLLk1vZHVsZXMpXG4iXX0=